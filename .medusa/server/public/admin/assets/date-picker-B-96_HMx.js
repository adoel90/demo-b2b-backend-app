import{r,c4 as C,E as X,c5 as G,y as f,c6 as v,c7 as q,c8 as J,c9 as Q,ca as Z,as as ee,cb as M,cc as te,cd as ae,ce as re,cf as ne,cg as le,ch as oe,ci as se,cj as O,ck as ce,cl as ie,cm as ue,X as fe,cn as _}from"./index-4Ied8IC1.js";import{P as E}from"./popover-5t9Tbcgy.js";import{T as de}from"./triangle-left-mini-Chp_nRtM.js";var me=Object.defineProperty,b=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,w=(e,t,a)=>t in e?me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,be=(e,t)=>{for(var a in t||(t={}))N.call(t,a)&&w(e,a,t[a]);if(b)for(var a of b(t))R.call(t,a)&&w(e,a,t[a]);return e},ge=(e,t)=>{var a={};for(var n in e)N.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&b)for(var n of b(e))t.indexOf(n)<0&&R.call(e,n)&&(a[n]=e[n]);return a};const k=r.forwardRef((e,t)=>{var a=e,{color:n="currentColor"}=a,l=ge(a,["color"]);return r.createElement("svg",be({xmlns:"http://www.w3.org/2000/svg",width:15,height:15,fill:"none",ref:t},l),r.createElement("path",{fill:n,d:"M6.611 8.611c0-.49.4-.889.889-.889a.89.89 0 0 1 0 1.778.89.89 0 0 1-.889-.889M10.611 9.5c.49 0 .889-.4.889-.889a.89.89 0 0 0-.889-.889.89.89 0 0 0-.889.89c0 .489.4.888.89.888M6.611 11.278c0-.49.4-.89.889-.89a.89.89 0 0 1 0 1.778.89.89 0 0 1-.889-.888M4.389 10.389a.89.89 0 0 0-.889.889c0 .49.4.889.889.889a.89.89 0 0 0 0-1.778M9.722 11.278a.89.89 0 0 1 1.778 0c0 .49-.4.889-.889.889a.89.89 0 0 1-.889-.89"}),r.createElement("path",{fill:n,fillRule:"evenodd",d:"M4.611.306a.75.75 0 0 1 .75.75v1.027H9.64V1.056a.75.75 0 1 1 1.5 0v1.027h.583a2.53 2.53 0 0 1 2.528 2.528v7.556a2.53 2.53 0 0 1-2.528 2.527H3.278A2.53 2.53 0 0 1 .75 12.167V4.61a2.53 2.53 0 0 1 2.528-2.528h.583V1.056a.75.75 0 0 1 .75-.75M12.75 4.61v.584H2.25V4.61c0-.568.46-1.028 1.028-1.028h8.444c.568 0 1.028.46 1.028 1.028m0 2.084H2.25v5.472c0 .567.46 1.027 1.028 1.027h8.444c.568 0 1.028-.46 1.028-1.027z",clipRule:"evenodd"}))});k.displayName="CalendarMini";var pe=Object.defineProperty,g=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,P=(e,t,a)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ve=(e,t)=>{for(var a in t||(t={}))V.call(t,a)&&P(e,a,t[a]);if(g)for(var a of g(t))I.call(t,a)&&P(e,a,t[a]);return e},he=(e,t)=>{var a={};for(var n in e)V.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&g)for(var n of g(e))t.indexOf(n)<0&&I.call(e,n)&&(a[n]=e[n]);return a};const S=r.forwardRef((e,t)=>{var a=e,{color:n="currentColor"}=a,l=he(a,["color"]);return r.createElement("svg",ve({xmlns:"http://www.w3.org/2000/svg",width:15,height:15,fill:"none",ref:t},l),r.createElement("g",{stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#a)"},r.createElement("path",{d:"m12.389.833 1.778 1.778M2.611.833.833 2.611M7.5 13.056a5.556 5.556 0 1 0 0-11.112 5.556 5.556 0 0 0 0 11.112M3.572 11.428l-1.628 1.627M11.428 11.428l1.627 1.627"}),r.createElement("path",{d:"M7.5 4.611V7.5l2.444 1.556"})),r.createElement("defs",null,r.createElement("clipPath",{id:"a"},r.createElement("path",{fill:"#fff",d:"M0 0h15v15H0z"}))))});S.displayName="Clock";const $=r.forwardRef(({children:e,...t},a)=>{const n=r.useRef(null);r.useImperativeHandle(a,()=>n.current);const{buttonProps:l}=C(t,n);return r.createElement(X,{size:"small",variant:"transparent",className:"rounded-[4px]",...l},e)});$.displayName="CalendarButton";const xe=({state:e,date:t})=>{const a=r.useRef(null),{cellProps:n,buttonProps:l,isSelected:o,isOutsideVisibleRange:c,isDisabled:i,isUnavailable:u,formattedDate:d}=G({date:t},e,a),m=Ee(t);return r.createElement("td",{...n,className:"p-1"},r.createElement("div",{...l,ref:a,hidden:c,className:f("bg-ui-bg-base txt-compact-small relative flex size-8 items-center justify-center rounded-md outline-none transition-fg border border-transparent","hover:bg-ui-bg-base-hover","focus-visible:shadow-borders-focus focus-visible:border-ui-border-interactive",{"!bg-ui-bg-interactive !text-ui-fg-on-color":o,hidden:c,"text-ui-fg-muted hover:!bg-ui-bg-base cursor-default":i||u})},d,m&&r.createElement("div",{role:"none",className:f("bg-ui-bg-interactive absolute bottom-[3px] left-1/2 size-[3px] -translate-x-1/2 rounded-full transition-fg",{"bg-ui-fg-on-color":o})})))};function Ee(e){const t=new Date;return[e.year,e.month,e.day].join("-")===[t.getFullYear(),t.getMonth()+1,t.getDate()].join("-")}const $e=({state:e,...t})=>{const{locale:a}=v(),{gridProps:n,headerProps:l,weekDays:o}=q(t,e),c=J(e.visibleRange.start,a);return r.createElement("table",{...n},r.createElement("thead",{...l},r.createElement("tr",null,o.map((i,u)=>r.createElement("th",{key:u,className:"txt-compact-small-plus text-ui-fg-muted size-8 p-1 rounded-md"},i)))),r.createElement("tbody",null,[...new Array(c).keys()].map(i=>r.createElement("tr",{key:i},e.getDatesInWeek(i).map((u,d)=>u?r.createElement(xe,{key:d,state:e,date:u}):r.createElement("td",{key:d}))))))},ye=e=>{const{locale:t}=v(),a=Q({...e,locale:t,createCalendar:M}),{calendarProps:n,prevButtonProps:l,nextButtonProps:o,title:c}=Z(e,a);return r.createElement("div",{...n,className:"flex flex-col gap-y-2"},r.createElement("div",{className:"bg-ui-bg-field border-base grid grid-cols-[28px_1fr_28px] items-center gap-1 rounded-md border p-0.5"},r.createElement($,{...l},r.createElement(de,null)),r.createElement("div",{className:"flex items-center justify-center"},r.createElement("h2",{className:"txt-compact-small-plus"},c)),r.createElement($,{...o},r.createElement(ee,null))),r.createElement($e,{state:a}))};function T(e){return new te(e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function _e(e,t){return e?(e.set({day:t.getDate(),month:t.getMonth()+1,year:t.getFullYear(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()}),e):T(t)}function j(e){return new ae(e.getFullYear(),e.getMonth()+1,e.getDate())}function we(e,t){return e?(e.set({day:t.getDate(),month:t.getMonth()+1,year:t.getFullYear()}),e):j(t)}const z=new Set(["hour","minute","second"]);function p(e,t){return t&&z.has(t)?T(e):j(e)}function D(e,t,a){return a&&z.has(a)?_e(e,t):we(e,t)}function Pe(e,t,a){return e?p(e,a):t?p(t,a):null}const F=({segment:e,state:t})=>{const a=r.useRef(null),{segmentProps:n}=re(e,t,a);return e.type==="literal"&&e.text===", "?r.createElement("span",{className:"mx-1"}):r.createElement("span",null,r.createElement("div",{ref:a,className:f("transition-fg outline-none","focus-visible:bg-ui-bg-interactive focus-visible:text-ui-fg-on-color",{"text-ui-fg-muted uppercase":e.isPlaceholder,"text-ui-fg-muted":!e.isEditable&&!t.value}),...n},e.text))},De=e=>{const t=r.useRef(null),{locale:a}=v(),n=ne({...e,locale:a}),{fieldProps:l}=le(e,n,t);return r.createElement("div",{ref:t,...l,"aria-label":"Time input",className:f("bg-ui-bg-field shadow-borders-base txt-compact-small flex items-center rounded-md px-2 py-1",{"":e.isDisabled})},n.segments.map((o,c)=>r.createElement(F,{key:c,segment:o,state:n})))},H=r.forwardRef(({children:e,size:t="base",...a},n)=>{const l=r.useRef(null);r.useImperativeHandle(n,()=>l.current);const{buttonProps:o}=C(a,l);return r.createElement("button",{type:"button",className:f("text-ui-fg-muted transition-fg flex items-center justify-center border-r outline-none","disabled:text-ui-fg-disabled","hover:bg-ui-button-transparent-hover","focus-visible:bg-ui-bg-interactive focus-visible:text-ui-fg-on-color",{"size-7":t==="small","size-8":t==="base"}),"aria-label":"Open calendar",...o},e)});H.displayName="DatePickerButton";const Ce=["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],A=r.forwardRef(({type:e="button",className:t,children:a,...n},l)=>{const o=c=>{Ce.includes(c.key)||c.stopPropagation()};return r.createElement("button",{ref:l,type:e,className:f("text-ui-fg-muted transition-fg flex size-full items-center justify-center outline-none","hover:bg-ui-button-transparent-hover","focus-visible:bg-ui-bg-interactive focus-visible:text-ui-fg-on-color",t),"aria-label":"Clear date",onKeyDown:o,...n},a)});A.displayName="DatePickerClearButton";const Me=O({base:"flex items-center tabular-nums",variants:{size:{small:"py-1",base:"py-1.5"}},defaultVariants:{size:"base"}}),Oe=({size:e="base",...t})=>{const{locale:a}=v(),n=oe({...t,locale:a,createCalendar:M}),l=r.useRef(null),{fieldProps:o}=se(t,n,l);return r.createElement("div",{ref:l,"aria-label":"Date input",className:Me({size:e}),...o},n.segments.map((c,i)=>r.createElement(F,{key:i,segment:c,state:n})))},Ne=(e,t,a)=>O({base:f("bg-ui-bg-field shadow-borders-base txt-compact-small text-ui-fg-base transition-fg grid items-center gap-2 overflow-hidden rounded-md h-fit","focus-within:shadow-borders-interactive-with-active focus-visible:shadow-borders-interactive-with-active","aria-[invalid=true]:shadow-borders-error invalid:shadow-borders-error",{"shadow-borders-interactive-with-active":e,"shadow-borders-error":t,"pr-2":!a}),variants:{size:{small:f("grid-cols-[28px_1fr]",{"grid-cols-[28px_1fr_28px]":!!a}),base:f("grid-cols-[32px_1fr]",{"grid-cols-[32px_1fr_32px]":!!a})}}}),Re=new Set(["hour","minute","second"]),ke=r.forwardRef(({size:e="base",shouldCloseOnSelect:t=!0,className:a,modal:n=!1,...l},o)=>{const[c,i]=r.useState(Pe(l.value,l.defaultValue,l.granularity)),u=r.useRef(null);r.useImperativeHandle(o,()=>u.current);const d=r.useRef(null),m=Ve(l,i),s=ce({...m,shouldCloseOnSelect:t}),{groupProps:h,fieldProps:B,buttonProps:U,dialogProps:L,calendarProps:Y}=ie(m,s,u);r.useEffect(()=>{i(l.value?D(c,l.value,l.granularity):null),s.setValue(l.value?D(c,l.value,l.granularity):null)},[l.value]);function W(y){var x;y.preventDefault(),y.stopPropagation(),(x=l.onChange)===null||x===void 0||x.call(l,null),s.setValue(null)}ue({ref:d,onInteractOutside:()=>{s.setOpen(!1)}});const K=l.granularity&&Re.has(l.granularity)?S:k;return r.createElement(E,{modal:n,open:s.isOpen,onOpenChange:s.setOpen},r.createElement(E.Anchor,{asChild:!0},r.createElement("div",{ref:o,className:f(Ne(s.isOpen,s.isInvalid,s.value)({size:e}),a),...h},r.createElement(H,{...U,size:e},r.createElement(K,null)),r.createElement(Oe,{...B,size:e}),!!s.value&&r.createElement(A,{onClick:W},r.createElement(fe,null)))),r.createElement(E.Content,{ref:d,...L,className:"flex flex-col divide-y p-0"},r.createElement("div",{className:"p-3"},r.createElement(ye,{autoFocus:!0,...Y})),s.hasTime&&r.createElement("div",{className:"p-3"},r.createElement(De,{value:s.timeValue,onChange:s.setTimeValue,hourCycle:l.hourCycle}))))});ke.displayName="DatePicker";function Ve(e,t){const{minValue:a,maxValue:n,isDateUnavailable:l,onChange:o,value:c,defaultValue:i,...u}=e;return{...u,onChange:s=>{t(s),o==null||o(s?s.toDate(_()):null)},isDateUnavailable:s=>{const h=s.toDate(_());return l?l(h):!1},minValue:a&&p(a,e.granularity),maxValue:n&&p(n,e.granularity)}}export{ke as D};
